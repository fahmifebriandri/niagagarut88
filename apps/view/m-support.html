  <!-- Page Wrapper -->
  <div id="wrapper">
	<div style="background-color: #254dc0;" ng-include="'./view/c-sidebar.html?nran=200'"></div>
    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
      <!-- Main Content -->
      <div id="content">
		<div ng-include="'./view/c-topbar.html?nran=200'"></div>
<!---------------------------------------------------------- Begin Page Content ---------------------------------------------------------------->
<!---------------------------------------------------------- Begin Page Content ---------------------------------------------------------------->
<!---------------------------------------------------------- Begin Page Content ---------------------------------------------------------------->
        
        <div class="container-fluid">
			<nav aria-label="breadcrumb">
			  <ol class="breadcrumb" ng-bind-html="breadcrumb">
			  </ol>
			</nav>
          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">NG Support Center</h1>
          </div>
		  <div class="row">
			<div class="col-md-4">
			  <div class="card shadow mb-4">
				<div class="card-header py-3">
				  <h6 class="d-inline m-0 font-weight-bold text-primary">List Tiket</h6>
				  <button class="pull-right d-sm-inline-block btn btn-sm btn-primary shadow-sm btn-add-ticket" ng-click="addTicket();"><i class="fas fa-plus fa-sm text-white-50"></i> Tiket Baru</button>
				</div>
				<div class="card-body" style="height:550px;overflow:auto;">
					<div ng-if="(objLength(data_list_ticket) == 0)">
						Belum ada tiket...
					</div>
					<div class="list-group">
					  <a ng-repeat="keyLIst in data_list_ticket" href="javascript:void(0);" class="data-list-ticket list-group-item list-group-item-action flex-column align-items-start" id="list_tiket_{{$index}}" kode-tiket="{{keyLIst.kode_tiket}}" ng-click="pilihLIstTiket($index,keyLIst);">
						<div class="d-flex w-100 justify-content-between">
						  <h5 class="mb-1">{{keyLIst.judul}}</h5>
						  <small>{{keyLIst.tanggal_input}}</small>
						</div>
						<small>Dibuat oleh: <b>{{keyLIst.nama_pengirim}}</b></small>
					  </a>
					</div>
					<!--
					<div class="list-group">
					  <a href="javascript:void(0);" class="list-group-item list-group-item-action flex-column align-items-start active">
						<div class="d-flex w-100 justify-content-between">
						  <h5 class="mb-1">Judul Tiket 1</h5>
						  <small>3 days ago</small>
						</div>
						<small>Dibuat oleh: ffsr</small>
					  </a>
					  <a href="javascript:void(0);" class="list-group-item list-group-item-action flex-column align-items-start">
						<div class="d-flex w-100 justify-content-between">
						  <h5 class="mb-1">Judul Tiket 2</h5>
						  <small class="text-muted">3 days ago</small>
						</div>
						<small>Dibuat oleh: ffsr</small>
					  </a>
					  <a href="javascript:void(0);" class="list-group-item list-group-item-action flex-column align-items-start">
						<div class="d-flex w-100 justify-content-between">
						  <h5 class="mb-1">Judul Tiket 3</h5>
						  <small class="text-muted">3 days ago</small>
						</div>
						<small>Dibuat oleh: ffsr</small>
					  </a>
					</div>
					-->
				</div>
			  </div>
			</div>
			<div class="col-md-8">
			  <div class="card shadow mb-4">
				<div class="card-header py-3">
				  <h6 class="m-0 font-weight-bold text-primary">Isi Pesan</h6>
				</div>
				<div class="card-body">
					<form>
					  <div class="form-group">
						<input type="text" class="form-control" id="input_judul" ng-disabled="data_support.disabled_form_tiket_baru" ng-readonly="data_support.form.input_judul_readonly" ng-model="data_support.form.input_judul" placeholder="Masukan Judul Tiket">
					  </div>
					  <div class="row mb-4">
						  <div class="col-md-12">
							<div class="card">
							  <div class="card-body bg-light" id="chat_history" style="height:350px;overflow:auto;">
								  <!--
								  <div class="row mb-4 pr-5">
									<div class="col">
										<i class="fa fa-circle text-info"></i> <span class="text-dark">Nama Saya</span> <span class="text-muted font-weight-light">10:31 AM, Today</span>
									</div>
									<div class="w-100"></div>
									<div class="col">
										<div style="pointer-events:none; width:0px; border:solid transparent; border-width: 10px; border-bottom-color:#36b9cc;"></div>
									</div>
									<div class="w-100"></div>
									<div class="col rounded pt-1 pb-2 px-2 text-white bg-info mr-5">
										Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column 
									</div>
								  </div>
								  
								  <div class="row mb-4 pl-5">
									<div class="col text-right">
										<span class="text-muted font-weight-light">10:31 AM, Today</span> <span class="text-dark">Nama Saya</span> <i class="fa fa-circle text-success"></i>
									</div>
									<div class="w-100"></div>
									<div class="col">
										<div style="pointer-events:none; width:0px; border:solid transparent; border-width: 10px; border-bottom-color:#1cc88a; float:right;"></div>
									</div>
									<div class="w-100"></div>
									<div class="col rounded pt-1 pb-2 px-2 text-white bg-success ml-5">
										Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column Column 
									</div>
								  </div>
								  -->
								  <div ng-repeat="key in data_chat_history" style="width:auto;">
									<div ng-if="(key.pengirim == session_user.id)" class="row mb-4 pl-5">
										<div class="col text-right">
											<span class="text-muted font-weight-light">{{key.tanggal_input}}</span> <span class="text-dark">{{key.nama_pengirim}}</span> <i class="fa fa-circle text-success"></i>
										</div>
										<div class="w-100"></div>
										<div class="col">
											<div style="pointer-events:none; width:0px; border:solid transparent; border-width: 10px; border-bottom-color:#1cc88a; float:right;"></div>
										</div>
										<div class="w-100"></div>
										<i class="fas fa-trash-alt fa-lg ml-4" style="margin: auto;" ng-click="deleteChatTicket(key);" ></i>
										<div class="col rounded pt-1 pb-2 px-2 text-white bg-success ml-2">
											{{key.pesan}}
										</div>
									</div>
									<div ng-if="(key.pengirim != session_user.id)" class="row mb-4 pr-5">
										<div class="col">
											<i class="fa fa-circle text-info"></i> <span class="text-dark">{{key.nama_pengirim}}</span> <span class="text-muted font-weight-light">{{key.tanggal_input}}</span>
										</div>
										<div class="w-100"></div>
										<div class="col">
											<div style="pointer-events:none; width:0px; border:solid transparent; border-width: 10px; border-bottom-color:#36b9cc;"></div>
										</div>
										<div class="w-100"></div>
										<div class="col rounded pt-1 pb-2 px-2 text-white bg-info mr-5">
											{{key.pesan}}
										</div>
									</div>
								  </div>
								  
							  </div>
							</div>
						  </div>
					  </div>
					  <div class="form-group">
						<!--
						<input type="text" class="form-control" id="input_pesan" ng-disabled="data_support.disabled_form_tiket_baru" ng-model="data_support.form.input_pesan" placeholder="Masukan pesan...">
						-->
						<textarea class="form-control" id="input_pesan" rows="7" ng-disabled="data_support.disabled_form_tiket_baru" ng-model="data_support.form.input_pesan" placeholder="Masukan pesan..." >
						</textarea>
					  </div>
					  <div class="row mb-2">
						<div class="col">
							<h4 class="text-dark">
								<button type="button" ng-hide="data_support.disabled_form_tiket_baru" class="d-inline btn btn-sm btn-danger shadow-sm float-left btn-cancel-ticket" ng-click="cancelTicket();"><i class="fas fa-times fa-sm text-white-50"></i> Cancel</button>
								<!-- <button ng-hide="data_support.disabled_form_tiket_baru" class="d-inline btn btn-sm btn-danger shadow-sm float-left" ng-click="closeTicket();"><i class="fas fa-times fa-sm text-white-50"></i> Close</button> -->
								<button type="submit" ng-disabled="data_support.disabled_form_tiket_baru" class="d-inline btn btn-sm btn-success shadow-sm float-right" ng-click="sendChatTicket();"><i class="fas fa-paper-plane fa-sm text-white-50"></i> Send</button>
							</h4>
						</div>
					  </div>
					</form>
				</div>
			  </div>
			</div>
		  </div>
        
        </div>
        <!-- /.container-fluid -->
		
<!------------------------------------------------------------ End Page Content ------------------------------------------>
<!------------------------------------------------------------ End Page Content ------------------------------------------>
<!------------------------------------------------------------ End Page Content ------------------------------------------>
      </div>
      <!-- End of Main Content -->
	  <div ng-include="'./view/c-footer-sticky.html?nran=200'"></div>
    </div>
    <!-- End of Content Wrapper -->
  </div>
  <!-- End of Page Wrapper -->
<div ng-include="'./view/c-additional.html?nran=200'"></div>

<script>
$(document).ready(function(){
	$('#wrapper').on("click",".data-list-ticket",function(){
		$('.data-list-ticket').removeClass("active");
		$(this).addClass("active");
	});
	$('#wrapper').on("click",".btn-cancel-ticket , .btn-add-ticket",function(){
		$('.data-list-ticket').removeClass("active");
	});
});
</script>